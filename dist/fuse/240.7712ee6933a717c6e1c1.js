"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[240],{3240:(U,l,o)=>{o.r(l),o.d(l,{SettingsModule:()=>O});var f=o(3423),m=o(1095),g=o(8295),p=o(6627),h=o(9983),T=o(7441),x=o(3017),Z=o(4466),t=o(7716),c=o(3679),u=o(7001),d=o(7898),N=o(9890),S=o(8583);function A(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",9),t.TgZ(2,"div",10),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"button",11),t.NdJ("click",function(){const s=t.CHM(i).$implicit;return t.oxw().changeState(s)}),t._uU(5),t.qZA(),t.qZA()}if(2&e){const i=a.$implicit,n=t.oxw();t.xp6(3),t.Oqu(n.topicName(i)),t.xp6(1),t.Q6J("color",n.buttonStateBoolean(i)?"white":"primary"),t.xp6(1),t.hij(" ",n.buttonState(i)," ")}}const y=[{path:"",component:(()=>{class e{constructor(i,n,r,s,v){this._formBuilder=i,this.router=n,this.snackBar=r,this.eventMqtt=s,this._notification=v,this.loadNotificationTopic(),this.loadNotificationMyTopic()}ngOnInit(){this.subscribeToTopic()}loadNotificationTopic(){this._notification.loadNotificationTopicGroup().subscribe(i=>{this.topics=i})}loadNotificationMyTopic(){this._notification.loadNotificationTopic().subscribe(i=>{this.mytopics=i})}subscribeToTopic(){this.eventMqtt.topic("notificationtopics").subscribe(i=>{console.log("notificationtopics"),this.loadNotificationTopic()}),this.eventMqtt.topic("notificationtopicgroups").subscribe(i=>{console.log("notificationtopicgroups"),this.loadNotificationMyTopic()})}POPUPMesage(i){this.snackBar.open(i,"!",{duration:6e3,horizontalPosition:"center",verticalPosition:"top"})}topicName(i){switch(i.name){case"newOperation":return"Nuova Operazione";case"newFolder":return"Nuova Cartella";case"newFile":return"Nuovo File";case"editUser":return"Modifiche Utenza";case"updateApp":return"Aggiornamento App";default:return i.name}}buttonState(i){return this.mytopics.map(function(s){return s.name}).includes(i.name)?"Disattiva":"Attiva"}buttonStateBoolean(i){return this.mytopics.map(function(s){return s.name}).includes(i.name)}changeState(i){this.buttonStateBoolean(i)?this._notification.removeTopic(i.name).subscribe(n=>{this.POPUPMesage(n.message),window.location.reload()}):this._notification.addTopic(i.name).subscribe(n=>{this.POPUPMesage(n.message),window.location.reload()})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(c.qu),t.Y36(f.F0),t.Y36(u.ux),t.Y36(d.Y),t.Y36(N.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["settings-notifications"]],decls:12,vars:1,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","sm:justify-between","pb-8"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"w-full","max-w-3xl"],[1,""],[1,"grid","grid-cols-1","gap-6","w-full","mt-8"],["class","flex items-center justify-between pl-2",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","pl-2"],[1,"flex-auto","cursor-pointer"],[1,"leading-6","font-medium"],["mat-raised-button","",1,"ml-2",3,"color","click"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div"),t.TgZ(4,"div",3),t._uU(5,"Notifiche"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"form"),t.TgZ(8,"div",5),t._uU(9,"Se effettui modifiche verranno apportate anche sul app ios."),t.qZA(),t.TgZ(10,"div",6),t.YNc(11,A,6,3,"div",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(11),t.Q6J("ngForOf",n.topics))},directives:[c._Y,c.JL,c.F,S.sg,m.lW],encapsulation:2}),e})()}];var b=o(7539),M=o(3220),C=o(2458),P=o(4553),F=o(2789);let O=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[d.Y],imports:[[f.Bz.forChild(y),m.ot,b.p9,g.lN,p.Ps,h.c,p.Ps,T.LD,P.T5,M.FA,u.ZX,C.XK,F.p0,x.SJ,Z.m]]}),e})()}}]);
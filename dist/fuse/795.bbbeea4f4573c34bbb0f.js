"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[795],{5795:(Zt,_,p)=>{p.r(_),p.d(_,{OperazioniModule:()=>ht});var v=p(3423),h=p(1095),b=p(7539),c=p(8295),Z=p(6627),d=p(9983),C=p(7441),f=p(4553),T=p(7001),g=p(3220),q=p(2458),N=p(4466),r=p(3679),x=p(1394),t=p(7716),U=p(9110),z=p(422),M=p(2238),A=p(8583);function O(e,n){1&e&&t._uU(0,"Registrazione")}function J(e,n){if(1&e&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function S(e,n){if(1&e&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function I(e,n){1&e&&t._uU(0,"Cliente")}function P(e,n){1&e&&t._uU(0,"Ramo")}function Q(e,n){if(1&e&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function y(e,n){1&e&&(t.TgZ(0,"button",24),t._uU(1,"Successivo"),t.qZA())}function w(e,n){1&e&&t._uU(0,"Vita")}function k(e,n){if(1&e&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function Y(e,n){if(1&e&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function F(e,n){if(1&e&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function L(e,n){if(1&e&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function $(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"mat-step",30),t.TgZ(1,"form",5),t.YNc(2,w,1,0,"ng-template",6),t.TgZ(3,"div",7),t.TgZ(4,"mat-form-field",18),t.TgZ(5,"mat-label"),t._uU(6,"Tipologia:"),t.qZA(),t.TgZ(7,"select",34),t.YNc(8,k,2,2,"option",13),t.qZA(),t.qZA(),t.TgZ(9,"mat-form-field",18),t.TgZ(10,"mat-label"),t._uU(11,"Compagnia:"),t.qZA(),t.TgZ(12,"select",35,36),t.YNc(14,Y,2,2,"option",13),t.qZA(),t.qZA(),t.TgZ(15,"mat-form-field",18),t.TgZ(16,"mat-label"),t._uU(17,"Prodotto:"),t.qZA(),t.TgZ(18,"select",37,38),t.YNc(20,F,2,2,"option",13),t.qZA(),t.qZA(),t.TgZ(21,"mat-form-field",18),t.TgZ(22,"mat-label"),t._uU(23,"Premio:"),t.qZA(),t.TgZ(24,"input",39,40),t.NdJ("change",function(){t.CHM(o);const a=t.MAs(25),m=t.MAs(40),l=t.MAs(53),s=t.MAs(34);return t.oxw().cgMontante(a.value,m.value,l.value,s.value,"")}),t.qZA(),t.TgZ(26,"span",41),t._uU(27,"\u20ac\xa0"),t.qZA(),t.TgZ(28,"span",42),t._uU(29,".00"),t.qZA(),t.qZA(),t.TgZ(30,"mat-form-field",18),t.TgZ(31,"mat-label"),t._uU(32,"Frazionamento:"),t.qZA(),t.TgZ(33,"select",43,44),t.NdJ("change",function(){t.CHM(o);const a=t.MAs(25),m=t.MAs(40),l=t.MAs(53),s=t.MAs(34);return t.oxw().cgMontante(a.value,m.value,l.value,s.value,"")}),t.YNc(35,L,2,2,"option",13),t.qZA(),t.qZA(),t.TgZ(36,"mat-form-field",18),t.TgZ(37,"mat-label"),t._uU(38,"Durata:"),t.qZA(),t.TgZ(39,"input",45,46),t.NdJ("change",function(){t.CHM(o);const a=t.MAs(25),m=t.MAs(40),l=t.MAs(53),s=t.MAs(34);return t.oxw().cgMontante(a.value,m.value,l.value,s.value,"")}),t.qZA(),t.qZA(),t.TgZ(41,"mat-form-field",18),t.TgZ(42,"mat-label"),t._uU(43,"Montante:"),t.qZA(),t._UZ(44,"input",47),t.qZA(),t.TgZ(45,"mat-form-field",18),t.TgZ(46,"mat-label"),t._uU(47,"Montante Provvigionale:"),t.qZA(),t._UZ(48,"input",48),t.qZA(),t.TgZ(49,"mat-form-field",18),t.TgZ(50,"mat-label"),t._uU(51,"Provvigione:"),t.qZA(),t.TgZ(52,"input",49,50),t.NdJ("change",function(){t.CHM(o);const a=t.MAs(25),m=t.MAs(40),l=t.MAs(53),s=t.MAs(34);return t.oxw().cgMontante(a.value,m.value,l.value,s.value,"")}),t.qZA(),t.qZA(),t.TgZ(54,"mat-form-field",18),t.TgZ(55,"mat-label"),t._uU(56,"Provvigione in %:"),t.qZA(),t._UZ(57,"input",51),t.TgZ(58,"span",42),t._uU(59,"%"),t.qZA(),t.qZA(),t.TgZ(60,"mat-form-field",18),t.TgZ(61,"mat-label"),t._uU(62,"Provvigione Lorda Maturata:"),t.qZA(),t._UZ(63,"input",52),t.qZA(),t.qZA(),t.TgZ(64,"div",15),t.TgZ(65,"button",23),t._uU(66,"Indietro"),t.qZA(),t.TgZ(67,"button",53),t._uU(68,"Successivo"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const o=t.MAs(13),i=t.oxw();t.Q6J("stepControl",i.form),t.xp6(1),t.Q6J("formGroup",i.form),t.xp6(7),t.Q6J("ngForOf",i.tipologia),t.xp6(6),t.Q6J("ngForOf",i.compagnia),t.xp6(6),t.Q6J("ngForOf",i.prod),t.xp6(15),t.Q6J("ngForOf",i.frazionamento),t.xp6(4),t.Q6J("value","Crea"==o.value?1:null),t.xp6(5),t.Q6J("value",i.montante),t.xp6(4),t.Q6J("value",i.montantepro),t.xp6(9),t.Q6J("value",i.provvigioneoutp),t.xp6(6),t.Q6J("value",i.plmt)}}function R(e,n){1&e&&t._uU(0,"Danni")}function E(e,n){if(1&e&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function j(e,n){if(1&e&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function H(e,n){if(1&e&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function D(e,n){if(1&e&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function G(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"mat-step",30),t.TgZ(1,"form",5),t.YNc(2,R,1,0,"ng-template",6),t.TgZ(3,"div",7),t.TgZ(4,"mat-form-field",18),t.TgZ(5,"mat-label"),t._uU(6,"Tipologia:"),t.qZA(),t.TgZ(7,"select",54,55),t.NdJ("change",function(){t.CHM(o);const a=t.MAs(26),m=t.MAs(41),l=t.MAs(35),s=t.MAs(8);return t.oxw().cgMontante(a.value,m.value,"0",l.value,s.value)}),t.YNc(9,E,2,2,"option",13),t.qZA(),t.qZA(),t.TgZ(10,"mat-form-field",18),t.TgZ(11,"mat-label"),t._uU(12,"Compagnia:"),t.qZA(),t.TgZ(13,"select",35,36),t.YNc(15,j,2,2,"option",13),t.qZA(),t.qZA(),t.TgZ(16,"mat-form-field",18),t.TgZ(17,"mat-label"),t._uU(18,"Prodotto:"),t.qZA(),t.TgZ(19,"select",37,38),t.YNc(21,H,2,2,"option",13),t.qZA(),t.qZA(),t.TgZ(22,"mat-form-field",18),t.TgZ(23,"mat-label"),t._uU(24,"Premio:"),t.qZA(),t.TgZ(25,"input",39,40),t.NdJ("change",function(){t.CHM(o);const a=t.MAs(26),m=t.MAs(41),l=t.MAs(35),s=t.MAs(8);return t.oxw().cgMontante(a.value,m.value,"0",l.value,s.value)}),t.qZA(),t.TgZ(27,"span",41),t._uU(28,"\u20ac\xa0"),t.qZA(),t.TgZ(29,"span",42),t._uU(30,".00"),t.qZA(),t.qZA(),t.TgZ(31,"mat-form-field",18),t.TgZ(32,"mat-label"),t._uU(33,"Frazionamento:"),t.qZA(),t.TgZ(34,"select",43,44),t.NdJ("change",function(){t.CHM(o);const a=t.MAs(26),m=t.MAs(41),l=t.MAs(35),s=t.MAs(8);return t.oxw().cgMontante(a.value,m.value,"0",l.value,s.value)}),t.YNc(36,D,2,2,"option",13),t.qZA(),t.qZA(),t.TgZ(37,"mat-form-field",18),t.TgZ(38,"mat-label"),t._uU(39,"Durata:"),t.qZA(),t._UZ(40,"input",56,46),t.qZA(),t.TgZ(42,"mat-form-field",18),t.TgZ(43,"mat-label"),t._uU(44,"Montante:"),t.qZA(),t._UZ(45,"input",47),t.qZA(),t.TgZ(46,"mat-form-field",18),t.TgZ(47,"mat-label"),t._uU(48,"Montante Provvigionale:"),t.qZA(),t._UZ(49,"input",48),t.qZA(),t.TgZ(50,"mat-form-field",18),t.TgZ(51,"mat-label"),t._uU(52,"Provvigione in %:"),t.qZA(),t.TgZ(53,"input",57,50),t.NdJ("change",function(){t.CHM(o);const a=t.MAs(26),m=t.MAs(41),l=t.MAs(54),s=t.MAs(35),u=t.MAs(8);return t.oxw().cgMontante(a.value,m.value,l.value,s.value,u.value)}),t.qZA(),t.TgZ(55,"span",42),t._uU(56,"%"),t.qZA(),t.qZA(),t.TgZ(57,"mat-form-field",18),t.TgZ(58,"mat-label"),t._uU(59,"Provvigione Lorda Maturata:"),t.qZA(),t._UZ(60,"input",52),t.qZA(),t.qZA(),t.TgZ(61,"div",15),t.TgZ(62,"button",23),t._uU(63,"Indietro"),t.qZA(),t.TgZ(64,"button",53),t._uU(65,"Successivo"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("stepControl",o.form),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(8),t.Q6J("ngForOf",o.tipologia),t.xp6(6),t.Q6J("ngForOf",o.compagnia),t.xp6(6),t.Q6J("ngForOf",o.prod),t.xp6(15),t.Q6J("ngForOf",o.frazionamento),t.xp6(4),t.Q6J("value",1),t.xp6(5),t.Q6J("value",o.montante),t.xp6(4),t.Q6J("value",o.montantepro),t.xp6(4),t.Q6J("value",o.provvigioneoutp)("readonly",!0!==o.utente),t.xp6(7),t.Q6J("value",o.plmt)}}function V(e,n){1&e&&t._uU(0,"Consulenza")}function B(e,n){if(1&e&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function X(e,n){if(1&e&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function K(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"mat-step",30),t.TgZ(1,"form",5),t.YNc(2,V,1,0,"ng-template",6),t.TgZ(3,"div",7),t.TgZ(4,"mat-form-field",18),t.TgZ(5,"mat-label"),t._uU(6,"Tipologia:"),t.qZA(),t.TgZ(7,"select",34),t.YNc(8,B,2,2,"option",13),t.qZA(),t.qZA(),t.TgZ(9,"mat-form-field",18),t.TgZ(10,"mat-label"),t._uU(11,"Premio:"),t.qZA(),t.TgZ(12,"input",39,40),t.NdJ("change",function(){t.CHM(o);const a=t.MAs(13),m=t.MAs(40),l=t.MAs(22);return t.oxw().cgMontante(a.value,"1",m.value,l.value,"")}),t.qZA(),t.TgZ(14,"span",41),t._uU(15,"\u20ac\xa0"),t.qZA(),t.TgZ(16,"span",42),t._uU(17,".00"),t.qZA(),t.qZA(),t.TgZ(18,"mat-form-field",18),t.TgZ(19,"mat-label"),t._uU(20,"Frazionamento:"),t.qZA(),t.TgZ(21,"select",43,44),t.NdJ("change",function(){t.CHM(o);const a=t.MAs(13),m=t.MAs(40),l=t.MAs(22);return t.oxw().cgMontante(a.value,"1",m.value,l.value,"")}),t.YNc(23,X,2,2,"option",13),t.qZA(),t.qZA(),t.TgZ(24,"mat-form-field",18),t.TgZ(25,"mat-label"),t._uU(26,"Durata:"),t.qZA(),t._UZ(27,"input",58),t.qZA(),t.TgZ(28,"mat-form-field",18),t.TgZ(29,"mat-label"),t._uU(30,"Montante:"),t.qZA(),t._UZ(31,"input",47),t.qZA(),t.TgZ(32,"mat-form-field",18),t.TgZ(33,"mat-label"),t._uU(34,"Montante Provvigionale:"),t.qZA(),t._UZ(35,"input",48),t.qZA(),t.TgZ(36,"mat-form-field",18),t.TgZ(37,"mat-label"),t._uU(38,"Provvigione:"),t.qZA(),t.TgZ(39,"input",49,50),t.NdJ("change",function(){t.CHM(o);const a=t.MAs(13),m=t.MAs(40),l=t.MAs(22);return t.oxw().cgMontante(a.value,"1",m.value,l.value,"")}),t.qZA(),t.qZA(),t.TgZ(41,"mat-form-field",18),t.TgZ(42,"mat-label"),t._uU(43,"Provvigione in %:"),t.qZA(),t._UZ(44,"input",51),t.TgZ(45,"span",42),t._uU(46,"%"),t.qZA(),t.qZA(),t.TgZ(47,"mat-form-field",18),t.TgZ(48,"mat-label"),t._uU(49,"Provvigione Lorda Maturata:"),t.qZA(),t._UZ(50,"input",52),t.qZA(),t.qZA(),t.TgZ(51,"div",15),t.TgZ(52,"button",23),t._uU(53,"Indietro"),t.qZA(),t.TgZ(54,"button",53),t._uU(55,"Successivo"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("stepControl",o.form),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(7),t.Q6J("ngForOf",o.tipologia),t.xp6(15),t.Q6J("ngForOf",o.frazionamento),t.xp6(4),t.Q6J("ngModel",1),t.xp6(4),t.Q6J("value",o.montante),t.xp6(4),t.Q6J("value",o.montantepro),t.xp6(9),t.Q6J("value",o.provvigioneoutp),t.xp6(6),t.Q6J("value",o.plmt)}}function W(e,n){1&e&&t._uU(0,"Commento")}function tt(e,n){1&e&&(t.TgZ(0,"button",24),t._uU(1,"Successivo"),t.qZA())}function ot(e,n){1&e&&t._uU(0,"Caricamento")}function et(e,n){1&e&&t.YNc(0,ot,1,0,"ng-template",6)}function it(e,n){1&e&&t._uU(0,"Caricamento In corso...")}function nt(e,n){1&e&&t.YNc(0,it,1,0,"ng-template",6)}function at(e,n){1&e&&t._uU(0,"Caricamento Riuscito!")}function rt(e,n){1&e&&t.YNc(0,at,1,0,"ng-template",6)}function mt(e,n){1&e&&(t.TgZ(0,"button",23),t._uU(1,"Indietro"),t.qZA())}function lt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",63),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).conferma_vita()}),t._uU(1,"Carica"),t.qZA()}}function st(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",63),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).conferma_danni()}),t._uU(1,"Carica"),t.qZA()}}function pt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",63),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).conferma_cons()}),t._uU(1,"Carica"),t.qZA()}}function ut(e,n){1&e&&t._UZ(0,"mat-spinner",64)}function ft(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",65),t.NdJ("click",function(){t.CHM(o);const a=t.oxw(2);return t.MAs(4).reset(),a.nwOperazione()}),t._uU(1,"Nuova Operazione"),t.qZA()}}function ct(e,n){if(1&e&&(t.TgZ(0,"mat-step"),t.TgZ(1,"form",5),t.YNc(2,et,1,0,void 0,32),t.YNc(3,nt,1,0,void 0,32),t.YNc(4,rt,1,0,void 0,32),t.TgZ(5,"div",15),t.YNc(6,mt,2,0,"button",59),t.YNc(7,lt,2,0,"button",60),t.YNc(8,st,2,0,"button",60),t.YNc(9,pt,2,0,"button",60),t.YNc(10,ut,1,0,"mat-spinner",61),t.YNc(11,ft,2,0,"button",62),t.qZA(),t.qZA(),t.qZA()),2&e){const o=t.oxw(),i=t.MAs(60);t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(1),t.Q6J("ngIf",0==o.alert),t.xp6(1),t.Q6J("ngIf",1.5==o.alert),t.xp6(1),t.Q6J("ngIf",1==o.alert),t.xp6(2),t.Q6J("ngIf",0==o.alert),t.xp6(1),t.Q6J("ngIf",0==o.alert&&"Vita"==i.value),t.xp6(1),t.Q6J("ngIf",0==o.alert&&"Danni"==i.value),t.xp6(1),t.Q6J("ngIf",0==o.alert&&"Consulenza"==i.value),t.xp6(1),t.Q6J("ngIf",1.5==o.alert),t.xp6(1),t.Q6J("ngIf",1==o.alert)}}let gt=(()=>{class e{constructor(o,i,a,m,l){this.router=o,this._operation=i,this._piker=a,this.snackBar=m,this.dialog=l,this.data=(new Date).toISOString().split("T")[0],this.fraznumero=0,this.provvigioneout=0,this.plmt=0,this.vramo="",this.fdata="",this.ftipo="",this.fsoceta="",this.fnome="",this.fco="",this.fclisoceta="",this.framo="",this.ftipologia="",this.fcompagnia="",this.fprodotto="",this.fpremio="",this.ffrazionamneto="",this.fdurata="",this.fmontatnte="",this.fmontanteprov="",this.fprovvigione="",this.fprovvigioneout="",this.fplmt="",this.formreg=new r.cw({fdata:new r.NI("",r.kI.minLength(2)),ftipo:new r.NI("",r.kI.minLength(2)),fsoceta:new r.NI("",r.kI.minLength(2))}),this.formcli=new r.cw({fnome:new r.NI(null),fco:new r.NI(null),fclisoceta:new r.NI(null)}),this.formramo=new r.cw({framo:new r.NI("",r.kI.minLength(2))}),this.formcommento=new r.cw({fcommento:new r.NI("")}),this.form=new r.cw({ftipologia:new r.NI("",r.kI.minLength(2)),fcompagnia:new r.NI("",r.kI.minLength(2)),fprodotto:new r.NI("",r.kI.minLength(2)),fpremio:new r.NI("",r.kI.minLength(2)),ffrazionamento:new r.NI("",r.kI.minLength(2)),fdurata:new r.NI("",r.kI.minLength(2)),fmontatnte:new r.NI("",r.kI.minLength(2)),fmontanteprov:new r.NI("",r.kI.minLength(2)),fprovvigione:new r.NI("",r.kI.minLength(2)),fprovvigioneout:new r.NI("",r.kI.minLength(1)),fplmt:new r.NI("",r.kI.minLength(2))}),a.piker("registrazioneTipo").subscribe(s=>{this.tipo=s.value}),a.piker("registrazioneSoceta").subscribe(s=>{this.soceta=s.value}),a.piker("ramo").subscribe(s=>{this.ramo=s.value})}nwOperazione(){this.alert=0,this.montante=0,this.provvigioneout=0,this.montantepro=0,this.plmt=0}alertuploading(){this.alert=1.5,console.log("Caricamento in corso! ")}alersu(){this.alert=1,console.log("Operazioni create con sucesso! ")}POPUPSuccess(){this.snackBar.open("Caricamento Riuscito!","!",{duration:6e3,horizontalPosition:"center",verticalPosition:"top"})}POPUPMesage(o){this.snackBar.open(o,"!",{duration:6e3,horizontalPosition:"center",verticalPosition:"top"})}onRamo(o){this.vramo=o,"Vita"===this.vramo?(this._piker.piker("vitatipologia").subscribe(i=>{this.tipologia=i.value}),this._piker.piker("vitacompagnia").subscribe(i=>{this.compagnia=i.value}),this._piker.piker("vitaprodotto").subscribe(i=>{this.prod=i.value}),this._piker.piker("vitafrazionamento").subscribe(i=>{this.frazionamento=i.value})):"Danni"===this.vramo?(this._piker.piker("dannitipologia").subscribe(i=>{this.tipologia=i.value}),this._piker.piker("dannicompagnia").subscribe(i=>{this.compagnia=i.value}),this._piker.piker("danniprodotto").subscribe(i=>{this.prod=i.value}),this._piker.piker("dannifrazionamento").subscribe(i=>{this.frazionamento=i.value})):"Consulenza"===this.vramo&&(this._piker.piker("consulenzatipologia").subscribe(i=>{this.tipologia=i.value}),this._piker.piker("consulenzafrazionamento").subscribe(i=>{this.frazionamento=i.value}))}cgMontante(o,i,a,m,l){this.montante=Number(o)*Number(i),"RCA"===l?(this.provvigioneout=Number(a)<=0?.05:Number(a)/100,this.provvigioneoutp=100*this.provvigioneout):"RE"===l?(this.provvigioneout=Number(a)<=0?.1:Number(a)/100,this.provvigioneoutp=100*this.provvigioneout):(this.provvigioneout=Number(a)/100,this.provvigioneoutp=100*this.provvigioneout),"Annuale"===m?this.fraznumero=1:"Semestrale"===m?this.fraznumero=2:"Trimestrale"===m?this.fraznumero=4:"Mensile"===m?this.fraznumero=12:this.montantepro=0,this.montantepro=this.montante/Number(this.fraznumero),this.plmt=Number(this.montantepro)*Number(this.provvigioneout)}ngOnInit(){this.alert=0}popupinfinity(){this.dialog.open(_t).afterClosed().subscribe(i=>{})}conferma_vita(){if(String(this.formcli.value.fnome).length>0&&String(this.formcli.value.fco).length>0||String(this.formcli.value.fclisoceta).length>0)if(this.formreg.value.fdata.toString().length>2&&this.formreg.value.ftipo.toString().length>2&&this.formreg.value.fsoceta.toString().length>2)if(String(this.form.value.ftipologia).length>2&&String(this.form.value.fcompagnia).length>2&&String(this.form.value.fprodotto).length>2&&String(this.form.value.fpremio).length>0&&String(this.form.value.ffrazionamento).length>0&&String(this.form.value.fdurata).length>0&&String(this.form.value.fprovvigione).length>0)if("Infinity"!=String(this.form.value.ftipologia)&&"infinity"!=String(this.form.value.fcompagnia)&&"infinity"!=String(this.form.value.fprodotto)&&"infinity"!=String(this.form.value.fpremio)&&"infinity"!=String(this.form.value.ffrazionamento)&&"infinity"!=String(this.form.value.fdurata)&&"infinity"!=String(this.form.value.fprovvigione)&&"infinity"!=String(this.form.value.fplmt)){this.alertuploading(),this.alersu(),this.POPUPSuccess();let o=this.formcli.value.fnome,i=this.formcli.value.fco,a=this.formcli.value.fclisoceta;null!==o&&(o=this.formcli.value.fnome.toLowerCase()),null!==i&&(i=this.formcli.value.fco.toLowerCase()),null!==a&&(a=this.formcli.value.fclisoceta.toLowerCase());const s={operation:{commento:String(this.formcommento.value.commento).length>0?this.formcommento.value.fcommento:null,compagnia:this.form.value.fcompagnia,data:`${this.formreg.value.fdata}`,durata:Number(this.form.value.fdurata),frazionamento:this.form.value.ffrazionamento,montante:Number(this.form.value.fdurata)*Number(this.form.value.fpremio),montanteprov:Number(this.form.value.fdurata)*Number(this.form.value.fpremio)/Number(this.fraznumero),premio:Number(this.form.value.fpremio),prodotto:`${this.form.value.fprodotto}`,provvigione:Number(this.form.value.fdurata)*Number(this.form.value.fpremio)*Number(this.form.value.fprovvigione)/100,ramo:this.formramo.value.framo,registrazione:this.formreg.value.ftipo,risultato:Number(this.form.value.fdurata)*Number(this.form.value.fpremio)/Number(this.fraznumero)*(Number(this.form.value.fprovvigione)/100),societa:`${this.formreg.value.fsoceta}`,tipologia:`${this.form.value.ftipologia}`},cliente:{nome:o,cognome:i,societa:a}};this._operation.addOperation(s).subscribe(u=>{"ok"==u.status?(this.alersu(),this.montante=0,this.provvigioneout=0,this.montantepro=0,this.plmt=0,this.vramo=""):(this.montante=0,this.provvigioneout=0,this.montantepro=0,this.plmt=0,this.vramo="",this.POPUPMesage("Caricamento Non Riuscito :("))})}else this.popupinfinity();else this.POPUPMesage(`Compila i campi di ${String(this.formramo.value.framo)}`),console.log(this.form.value);else this.POPUPMesage("Compila i campi della registrazione");else this.POPUPMesage("Compila i campi del Cliente")}conferma_danni(){if(String(this.formcli.value.fnome).length>0&&String(this.formcli.value.fco).length>0||String(this.formcli.value.fclisoceta).length>0)if(this.formreg.value.fdata.toString().length>2&&this.formreg.value.ftipo.toString().length>2&&this.formreg.value.fsoceta.toString().length>2)if(String(this.form.value.ftipologia).length>1&&String(this.form.value.fcompagnia).length>2&&String(this.form.value.fprodotto).length>2&&String(this.form.value.fpremio).length>0&&String(this.form.value.ffrazionamento).length>0)if("Infinity"!=String(this.form.value.ftipologia)&&"infinity"!=String(this.form.value.fcompagnia)&&"infinity"!=String(this.form.value.fprodotto)&&"infinity"!=String(this.form.value.fpremio)&&"infinity"!=String(this.form.value.ffrazionamento)&&"infinity"!=String(this.form.value.fdurata)&&"infinity"!=String(this.form.value.fprovvigione)&&"infinity"!=String(this.form.value.fplmt)){this.alertuploading(),this.alersu(),this.POPUPSuccess();let o=this.formcli.value.fnome,i=this.formcli.value.fco,a=this.formcli.value.fclisoceta;null!==o&&(o=this.formcli.value.fnome.toLowerCase()),null!==i&&(i=this.formcli.value.fco.toLowerCase()),null!==a&&(a=this.formcli.value.fclisoceta.toLowerCase());const s={operation:{commento:String(this.formcommento.value.commento).length>0?this.formcommento.value.fcommento:null,compagnia:this.form.value.fcompagnia,data:`${this.formreg.value.fdata}`,durata:Number(1),frazionamento:this.form.value.ffrazionamento,montante:Number(1)*Number(this.form.value.fpremio),montanteprov:Number(1)*Number(this.form.value.fpremio)/Number(this.fraznumero),premio:Number(this.form.value.fpremio),prodotto:`${this.form.value.fprodotto}`,provvigione:Number("RCA"===this.form.value.ftipologia||"RE"===this.form.value.ftipologia?this.provvigioneoutp:null),ramo:this.formramo.value.framo,registrazione:this.formreg.value.ftipo,risultato:Number(1)*Number(this.form.value.fpremio)/Number(this.fraznumero)*Number("RCA"===this.form.value.ftipologia||"RE"===this.form.value.ftipologia?this.provvigioneout:0),societa:`${this.formreg.value.fsoceta}`,tipologia:`${this.form.value.ftipologia}`},cliente:{nome:o,cognome:i,societa:a}};this._operation.addOperation(s).subscribe(u=>{"ok"==u.status?(this.alersu(),this.montante=0,this.provvigioneout=0,this.montantepro=0,this.plmt=0,this.vramo=""):(this.montante=0,this.provvigioneout=0,this.montantepro=0,this.plmt=0,this.vramo="",this.POPUPMesage("Caricamento Non Riuscito :("))})}else this.popupinfinity();else this.POPUPMesage(`Compila i campi di ${String(this.formramo.value.framo)}`),console.log(this.form.value);else this.POPUPMesage("Compila i campi della registrazione");else this.POPUPMesage("Compila i campi del Cliente")}conferma_cons(){if(String(this.formcli.value.fnome).length>0&&String(this.formcli.value.fco).length>0||String(this.formcli.value.fclisoceta).length>0)if(this.formreg.value.fdata.toString().length>2&&this.formreg.value.ftipo.toString().length>2&&this.formreg.value.fsoceta.toString().length>2)if(String(this.form.value.ftipologia).length>2&&String(this.form.value.fpremio).length>0&&String(this.form.value.ffrazionamento).length>0&&String(this.form.value.fprovvigione).length>0)if("Infinity"!=String(this.form.value.ftipologia)&&"infinity"!=String(this.form.value.fcompagnia)&&"infinity"!=String(this.form.value.fprodotto)&&"infinity"!=String(this.form.value.fpremio)&&"infinity"!=String(this.form.value.ffrazionamento)&&"infinity"!=String(this.form.value.fdurata)&&"infinity"!=String(this.form.value.fprovvigione)&&"infinity"!=String(this.form.value.fplmt)){this.alertuploading(),this.alersu(),this.POPUPSuccess();let o=this.formcli.value.fnome,i=this.formcli.value.fco,a=this.formcli.value.fclisoceta;null!==o&&(o=this.formcli.value.fnome.toLowerCase()),null!==i&&(i=this.formcli.value.fco.toLowerCase()),null!==a&&(a=this.formcli.value.fclisoceta.toLowerCase());const s={operation:{commento:String(this.formcommento.value.commento).length>0?this.formcommento.value.fcommento:null,compagnia:this.form.value.fcompagnia,data:`${this.formreg.value.fdata}`,durata:Number(1),frazionamento:this.form.value.ffrazionamento,montante:Number(1)*Number(this.form.value.fpremio),montanteprov:Number(1)*Number(this.form.value.fpremio)/Number(this.fraznumero),premio:Number(this.form.value.fpremio),prodotto:`${this.form.value.fprodotto}`,provvigione:Number(1)*Number(this.form.value.fpremio)*Number(this.form.value.fprovvigione)/100,ramo:this.formramo.value.framo,registrazione:this.formreg.value.ftipo,risultato:Number(1)*Number(this.form.value.fpremio)/Number(this.fraznumero)*(Number(this.form.value.fprovvigione)/100),societa:`${this.formreg.value.fsoceta}`,tipologia:`${this.form.value.ftipologia}`},cliente:{nome:o,cognome:i,societa:a}};this._operation.addOperation(s).subscribe(u=>{"ok"==u.status?(this.alersu(),this.montante=0,this.provvigioneout=0,this.montantepro=0,this.plmt=0,this.vramo=""):(this.montante=0,this.provvigioneout=0,this.montantepro=0,this.plmt=0,this.vramo="",this.POPUPMesage("Caricamento Non Riuscito :("))})}else this.popupinfinity();else this.POPUPMesage(`Compila i campi di ${String(this.formramo.value.framo)}`),console.log(this.form.value);else this.POPUPMesage("Compila i campi della registrazione");else this.POPUPMesage("Compila i campi del Cliente")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(v.F0),t.Y36(U.f),t.Y36(z.e),t.Y36(T.ux),t.Y36(M.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-operazioni"]],features:[t._Bn([{provide:x.gx,useValue:{showError:!0}}])],decls:82,vars:19,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],[1,"p-4","bg-card","shadow","rounded","overflow-hidden","max-w-6xl"],["stepper",""],["errorMessage","Registrazione \xe8 obbligatorio!",3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"flex","flex-col","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pr-3"],["matInput","","type","date","formControlName","fdata","required","",3,"ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["matNativeControl","","formControlName","ftipo","required",""],[3,"value",4,"ngFor","ngForOf"],["matNativeControl","","formControlName","fsoceta","required",""],[1,"flex","justify-end"],["mat-button","","matStepperNext","","mat-raised-button","","color","primary"],["errorMessage","Cliente \xe8 richiesto!",3,"stepControl"],["appearance","fill",1,"flex-auto","gt-xs:pr-3"],["matInput","","formControlName","fnome"],["matInput","","formControlName","fco"],[1,"flex-auto","gt-xs:pr-3","text-center"],["matInput","","formControlName","fclisoceta"],["mat-button","","matStepperPrevious","","mat-raised-button","","color","primary"],["mat-button","","matStepperNext","","mat-raised-button","","color","primary",1,"ml-1"],["errorMessage","Ramo \xe8 obbligatorio!",3,"stepControl"],["matNativeControl","","formControlName","framo","required","",3,"change"],["vramo",""],["class","ml-1","mat-button","","matStepperNext","","mat-raised-button","","color","primary",4,"ngIf"],[3,"stepControl",4,"ngIf"],[3,"stepControl"],["matInput","","formControlName","fcommento"],[4,"ngIf"],[3,"value"],["matNativeControl","","formControlName","ftipologia","required",""],["matNativeControl","","formControlName","fcompagnia","required",""],["compi",""],["matNativeControl","","formControlName","fprodotto","required",""],["prodotto",""],["matInput","","type","number","formControlName","fpremio","required","",3,"change"],["premio",""],["matPrefix",""],["matSuffix",""],["matNativeControl","","formControlName","ffrazionamento","required","",3,"change"],["fraz",""],["matInput","","type","number","formControlName","fdurata","required","",3,"value","change"],["durata",""],["matInput","","type","number","formControlName","fmontatnte","readonly","",3,"value"],["matInput","","type","number","formControlName","fmontanteprov","readonly","",3,"value"],["matInput","","type","number","formControlName","fprovvigione","required","",3,"change"],["provvigione",""],["matInput","","formControlName","fprovvigioneout","readonly","",3,"value"],["matInput","","formControlName","fplmt","readonly","",3,"value"],["matStepperNext","","mat-raised-button","","color","primary",1,"ml-1"],["matNativeControl","","formControlName","ftipologia","required","",3,"change"],["tipdan",""],["matInput","","type","number","required","","readonly","",3,"value"],["matInput","","formControlName","fprovvigioneout",3,"value","readonly","change"],["matInput","","type","number","formControlName","fdurata","readonly","",3,"ngModel"],["mat-button","","matStepperPrevious","","mat-raised-button","","color","primary",4,"ngIf"],["class","ml-1 btn-verede","mat-button","","mat-raised-button","","color","warn",3,"click",4,"ngIf"],["diameter","40",4,"ngIf"],["mat-button","","class","ml-1","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","mat-raised-button","","color","warn",1,"ml-1","btn-verede",3,"click"],["diameter","40"],["mat-button","","mat-raised-button","","color","primary",1,"ml-1",3,"click"]],template:function(o,i){if(1&o){const a=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"form",2),t.TgZ(3,"mat-vertical-stepper",null,3),t.TgZ(5,"mat-step",4),t.TgZ(6,"form",5),t.YNc(7,O,1,0,"ng-template",6),t.TgZ(8,"div",7),t.TgZ(9,"mat-form-field",8),t.TgZ(10,"mat-label"),t._uU(11,"Data:"),t.qZA(),t.TgZ(12,"input",9),t.NdJ("ngModelChange",function(l){return i.data=l}),t.qZA(),t._UZ(13,"mat-datepicker-toggle",10),t._UZ(14,"mat-datepicker",null,11),t.qZA(),t.TgZ(16,"mat-form-field",8),t.TgZ(17,"mat-label"),t._uU(18,"Tipo:"),t.qZA(),t.TgZ(19,"select",12),t.YNc(20,J,2,2,"option",13),t.qZA(),t.qZA(),t.TgZ(21,"mat-form-field",8),t.TgZ(22,"mat-label"),t._uU(23,"Societ\xe0:"),t.qZA(),t.TgZ(24,"select",14),t.YNc(25,S,2,2,"option",13),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",15),t.TgZ(27,"button",16),t._uU(28,"Successivo"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"mat-step",17),t.TgZ(30,"form",5),t.YNc(31,I,1,0,"ng-template",6),t.TgZ(32,"div",7),t.TgZ(33,"mat-form-field",18),t.TgZ(34,"mat-label"),t._uU(35,"Nome:"),t.qZA(),t._UZ(36,"input",19),t.qZA(),t.TgZ(37,"mat-form-field",18),t.TgZ(38,"mat-label"),t._uU(39,"Cognome:"),t.qZA(),t._UZ(40,"input",20),t.qZA(),t.TgZ(41,"mat-label",21),t._uU(42,"Oppure"),t.qZA(),t.TgZ(43,"mat-form-field",18),t.TgZ(44,"mat-label"),t._uU(45,"Societ\xe0:"),t.qZA(),t._UZ(46,"input",22),t.qZA(),t.qZA(),t.TgZ(47,"div",15),t.TgZ(48,"button",23),t._uU(49,"Indietro"),t.qZA(),t.TgZ(50,"button",24),t._uU(51,"Successivo"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(52,"mat-step",25),t.TgZ(53,"form",5),t.YNc(54,P,1,0,"ng-template",6),t.TgZ(55,"div",7),t.TgZ(56,"mat-form-field",18),t.TgZ(57,"mat-label"),t._uU(58,"Ramo:"),t.qZA(),t.TgZ(59,"select",26,27),t.NdJ("change",function(){t.CHM(a);const l=t.MAs(60);return i.onRamo(l.value)}),t.YNc(61,Q,2,2,"option",13),t.qZA(),t.qZA(),t.qZA(),t.TgZ(62,"div",15),t.TgZ(63,"button",23),t._uU(64,"Indietro"),t.qZA(),t.YNc(65,y,2,0,"button",28),t.qZA(),t.qZA(),t.qZA(),t.YNc(66,$,69,11,"mat-step",29),t.YNc(67,G,66,12,"mat-step",29),t.YNc(68,K,56,9,"mat-step",29),t.TgZ(69,"mat-step",30),t.TgZ(70,"form",5),t.YNc(71,W,1,0,"ng-template",6),t.TgZ(72,"div",7),t.TgZ(73,"mat-form-field",18),t.TgZ(74,"mat-label"),t._uU(75,"Commento Facoltativo"),t.qZA(),t._UZ(76,"textarea",31),t.qZA(),t.qZA(),t.TgZ(77,"div",15),t.TgZ(78,"button",23),t._uU(79,"Indietro"),t.qZA(),t.YNc(80,tt,2,0,"button",28),t.qZA(),t.qZA(),t.qZA(),t.YNc(81,ct,12,10,"mat-step",32),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const a=t.MAs(15),m=t.MAs(60);t.xp6(5),t.Q6J("stepControl",i.formreg),t.xp6(1),t.Q6J("formGroup",i.formreg),t.xp6(6),t.Q6J("ngModel",i.data),t.xp6(1),t.Q6J("for",a),t.xp6(7),t.Q6J("ngForOf",i.tipo),t.xp6(5),t.Q6J("ngForOf",i.soceta),t.xp6(4),t.Q6J("stepControl",i.formcli),t.xp6(1),t.Q6J("formGroup",i.formcli),t.xp6(22),t.Q6J("stepControl",i.formramo),t.xp6(1),t.Q6J("formGroup",i.formramo),t.xp6(8),t.Q6J("ngForOf",i.ramo),t.xp6(4),t.Q6J("ngIf",""!=m.value),t.xp6(1),t.Q6J("ngIf","Vita"==m.value),t.xp6(1),t.Q6J("ngIf","Danni"==m.value),t.xp6(1),t.Q6J("ngIf","Consulenza"==m.value),t.xp6(1),t.Q6J("stepControl",i.formcommento),t.xp6(1),t.Q6J("formGroup",i.formcommento),t.xp6(10),t.Q6J("ngIf",""!=m.value),t.xp6(1),t.Q6J("ngIf",""!==m.value)}},directives:[r._Y,r.JL,r.F,f.Vq,f.C0,r.sg,f.VY,c.KE,c.hX,d.Nt,r.Fj,r.JJ,r.u,r.Q7,g.nW,c.R9,g.Mq,r.EJ,A.sg,h.lW,f.Ic,f.fd,A.O5,r.YN,r.Kr,r.wV,c.qo],styles:[".mt-2{margin-top:2em}.ml-1{margin-left:1em}.mr-1{margin-right:1em}.mat-form-field{margin-top:16px}.btn-verede{background-color:#199101!important}\n"],encapsulation:2}),e})(),_t=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["dialog-content-example-dialog"]],decls:8,vars:0,consts:[["mat-dialog-title",""]],template:function(o,i){1&o&&(t.TgZ(0,"h2",0),t._uU(1,"Errore"),t.qZA(),t.TgZ(2,"h3"),t._uU(3,"ops! Operazione non caricata a causa di un valore Infinito!"),t._UZ(4,"br"),t._uU(5," Controlla l'operazione che vuoi caricare e coreggi."),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Clicca nello spazio vuoto per uscire da questa scermata."),t.qZA())},encapsulation:2}),e})();const vt=[{path:"",component:gt}];let ht=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[v.Bz.forChild(vt),h.ot,b.p9,c.lN,Z.Ps,d.c,Z.Ps,C.LD,f.T5,g.FA,T.ZX,q.XK,N.m]]}),e})()}}]);